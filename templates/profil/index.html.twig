{% extends "layout/base.html.twig" %}

{% block stylesheets %}
    {{ parent() }}
    {{ encore_entry_link_tags('profil') }}
    {{ encore_entry_link_tags('home') }}
{% endblock %}

{% block subtitle %}Profil utilisateur{% endblock %}


{% block body %}

    <div class="container">
        <div class="row justify-content-center">
            <div class="col-10">
                {% for message in app.flashes('success') %}
                    <div class="alert alert-success">
                        {{ message }}
                    </div>
                {% endfor %}
                {{ form_start(form, {'attr': {'id': 'profilForm'}}) }}

                <div class="form-group">
                    <i class="far fa-envelope"></i> {{ form_label(form.email) }}
                    {{ form_widget(form.email, { 'attr': {'class': 'form-control'} }) }}

                    {#  <small>{{ form_help(form.email) }}</small>

                      <div class="form-error">
                          {{ form_errors(form.email) }}
                      </div>#}
                </div>
                <div class="form-group">
                    <i class="fas fa-key"></i> {{ form_label(form.plainPassword) }}
                    <div class="input-group">
                        {{ form_widget(form.plainPassword, { 'attr': {'class': 'form-control'}, 'required': true }) }}
                        <span class="input-group-btn">
                        <button class="btn btn-default reveal" type="button"><i class="fas fa-eye"></i></button>
                        </span>
                    </div>

                    <div class="progress">
                        <div id="strengthBar" class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="0"
                             aria-valuemin="0" aria-valuemax="100" style="width:0%">
                        </div>
                    </div>

                    {# <small>{{ form_help(form.plainPassword) }}</small>

                     <div class="form-error">
                         {{ form_errors(form.plainPassword) }}
                     </div>#}
                </div>

                <div class="form-group">
                    {{ form_label(form.firstname) }}
                    {{ form_widget(form.firstname, { 'attr': {'class': 'form-control'} }) }}

                    <small>{{ form_help(form.firstname) }}</small>

                    <div class="form-error">
                        {{ form_errors(form.firstname) }}
                    </div>
                </div>
                <div class="form-group">
                    {{ form_label(form.lastname) }}
                    {{ form_widget(form.lastname, { 'attr': {'class': 'form-control'} }) }}

                    <small>{{ form_help(form.lastname) }}</small>

                    <div class="form-error">
                        {{ form_errors(form.lastname) }}
                    </div>
                </div>
                <div class="form-group">
                    {{ form_label(form.birthday) }}
                    {{ form_widget(form.birthday, { 'attr': {'class': 'form-control js-datepicker'} } ) }}

                    <small>{{ form_help(form.birthday) }}</small>

                    <div class="form-error">
                        {{ form_errors(form.birthday) }}
                    </div>
                </div>
                <div class="form-group">
                    {{ form_label(form.roles) }}
                    {{ form_widget(form.roles, {'attr': {'disabled': 'false'} }) }}

                    <small>{{ form_help(form.roles) }}</small>

                    <div class="form-error">
                        {{ form_errors(form.roles) }}
                    </div>
                </div>


                {{ form_end(form) }}
            </div>
        </div>
    </div>


{% endblock %}

{% block footer %}
    <footer class="footer mt-auto py-3">
        <div class="container">
            <span class="text-muted">Patek Philippe - Projet de création du référentiel : Rémi Fongaufier & Andréa Sester</span>
        </div>
    </footer>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    {{ encore_entry_script_tags('profil') }}
    {{ encore_entry_script_tags('home') }}
{% endblock %}